---
import { getCollection } from "astro:content";

import { arrangePostCollection } from "@/utils/posts";

import PostsList from "@/components/PostsList.astro";
import TagArchive from "@/components/TagArchive.astro";
import Page from "@/layouts/Page.astro";

const rawPosts = await getCollection("blogPosts");
const postsArray = arrangePostCollection(rawPosts);

const pageTitle = "Musings | Aidan Buie";
---

<Page pageTitle={pageTitle}>
  <PostsList postsArray={postsArray} />
  <TagArchive />
</Page>
