---
import Page from "./Page.astro";

interface Props {
  frontmatter: {
    title: string;
    description: string;
    pubDate: Date;
    updateDate?: Date;
    tags: string[];
  };
}

const { frontmatter } = Astro.props;

const pageTitle = `${frontmatter.title} | Aidan Buie`;
---

<Page pageTitle={pageTitle}>
  <article class="max-w-175">
    <h1 class="mb-5 text-4xl text-balance md:text-6xl">{frontmatter.title}</h1>
    <span class="mb-1 flex flex-row justify-between text-lg md:text-xl">
      <p class="hidden md:block">
        {
          frontmatter.pubDate.toLocaleDateString("default", {
            day: "numeric",
            month: "long",
            year: "numeric",
          })
        }
      </p>
      <p class="md:hidden">
        {
          frontmatter.pubDate.toLocaleDateString("default", {
            day: "numeric",
            month: "short",
            year: "numeric",
          })
        }
      </p>
      <p class="hidden md:block">
        {
          frontmatter.updateDate &&
            `Updated ${frontmatter.pubDate.toLocaleDateString("default", {
              day: "numeric",
              month: "long",
              year: "numeric",
            })}`
        }
      </p>
      <p class="md:hidden">
        {
          frontmatter.updateDate &&
            `Updated ${frontmatter.pubDate.toLocaleDateString("default", {
              day: "numeric",
              month: "short",
              year: "numeric",
            })}`
        }
      </p>
    </span>
    <ul class="flex flex-row gap-x-2.5">
      {
        frontmatter.tags.sort().map((t) => (
          <li>
            <a href={`/tags/${t}`}>
              <i class="fa-solid fa-tag text-gruv-yellow text-sm" />
              {t}
            </a>
          </li>
        ))
      }
    </ul>
    <!-- NOTE: mb-[] sizing matches `prose` p margin -->
    <p class="text-secondary mt-5 mb-[1.25em] text-lg md:mb-[1.3em] md:text-xl">
      {frontmatter.description}
    </p>
    <div class="prose prose-main md:prose-lg">
      <slot />
    </div>
  </article>
</Page>
