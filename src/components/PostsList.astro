---
import type { CollectionEntry } from "astro:content";

interface Props {
  postsArray: {
    year: string;
    posts: CollectionEntry<"blogPosts">[];
  }[];
}

const { postsArray } = Astro.props;
---

<ol>
  {
    postsArray.map((d) => (
      <>
        <h2 class="mt-10 mb-5 text-4xl font-bold first:my-5">{d.year}</h2>
        <ol class="grid grid-cols-[auto_8rem] gap-y-3 text-xl">
          {d.posts.map((p) => (
            <>
              <li>
                <a href={`/posts/${p.id}`}>{p.data.title}</a>
              </li>
              <span class="self-end text-right">
                {p.data.pubDate.toLocaleDateString("default", {
                  month: "short",
                  day: "numeric",
                })}
              </span>
            </>
          ))}
        </ol>
      </>
    ))
  }
</ol>
